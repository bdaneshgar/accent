## Client

Entry point: [`Client.cpp`](src/Client.cpp)

### Regular Flow

```
┌────────────┐       ┌────────────┐       ┌────────────┐
│   Server   │       │   ESP32    │       │  Display   │
└─────┬──────┘       └─────┬──────┘       └─────┬──────┘
      │                    │                    │
      │                    ├───┐                │
      │                    │   │ Wake           │
      │                    │◀──┘                │
      │                    │                    │
      │                    ├───┐                │
      │                    │   │ Connect Wifi   │
      │                    │◀──┘                │
      │  /epd (Key, Size)  │                    │
    ┌─┤◀───────────────────┤                    │
    │ │                    │                    │
    │ │       Image        │                    │
    └─┼ ─ ─ ─ ─ ─ ─ ─ ─ ─ ▷│                    │
      │                    │    Show (Image)    │
      │                    ├───────────────────▶├─┐
      │                    │                    │ │
      │                    │                    │ │
      │                    │◁ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┼─┘
      │    /next (Key)     │                    │
    ┌─┤◀───────────────────┤                    │
    │ │                    │                    │
    │ │     Sleep Time     │                    │
    └─┼ ─ ─ ─ ─ ─ ─ ─ ─ ─ ▷│                    │
      │                    │                    │
      │                    ├───┐                │
      │                    │   │ Sleep          │
      │                    │◀──┘                │
      │                    │                    │

```

### New Wifi Flow

```
┌────────────┐       ┌────────────┐       ┌────────────┐
│  Browser   │       │   ESP32    │       │  Display   │
└─────┬──────┘       └─────┬──────┘       └─────┬──────┘
      │                    │                    │
      │                    ├───┐                │
      │                    │   │ Wake           │
      │                    │◀──┘                │
      │                    │                    │
      │                    ├───┐                │
      │                    │   │ Connect Wifi   │
      │                    │x──┘                │
      │                    │                    │
      │                    │   Show (AP URL)    │
      │                    ├───────────────────▶├─┐
      │                    │                    │ │
      │                    │                    │ │
      │                    │◁ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┼─┘
      │                    │                    │
      │                    ├───┐                │
      │                    │   │ Start AP       │
      │  AP URL            │◀──┘                │
    ┌─┤◀────────○          │                    │
    │ │                    │                    │
    │ │  Wifi Credentials  │                    │
    └─┤─ ─ ─ ─ ─ ─ ─ ─ ─ ─▷│                    │
      │                    │                    │
      │                    ├───┐                │
      │                    │   │ Restart        │
      │                    │◀──┘                │
      │                    │                    │
   ┌──┴────────────────────┴────────────────────┴──┐
   │                                               │
   │                 Regular Flow                  │
   │                                               │
   └──┬────────────────────┬────────────────────┬──┘
      │                    │                    │
```
